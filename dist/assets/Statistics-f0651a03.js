import{d as x,l as T,m as S,u as D,b as C,r as t,e as m,s as z,f as M,o as W,c as V,h as s,x as i,t as o,v as n,i as f,w as y,_ as $}from"./index-985400ba.js";const B={class:"row"},E={class:"col-12"},F={class:"card box-margin"},N={class:"card-body"},j=s("b",null,"Asistente: ",-1),R=s("b",null,"assistant_id: ",-1),q={class:"row mt-3"},A={class:"col-sm-3"},L={class:"card"},O={class:"card-body"},P=s("h5",{class:"text-danger card-title"},"Tokens consumidos",-1),U={class:"text-center font-30 mb-0"},G={class:"d-flex justify-content-between mt-30"},H={class:""},I={class:""},J={class:"col-sm-3"},K={class:"card"},Q={class:"card-body"},X=s("h5",{class:"text-danger card-title"},"Total USD",-1),Y={class:"text-center font-30 mb-0"},Z=s("i",{class:"fa fa-money text-success mr-2 font-32"},null,-1),ss=x({__name:"Statistics",setup(ts){T("$formatDate");const c=S(),k=D();C();let a=t({});t({}),t(null),t([]);const d=t(!1),r=t(!1),b=t(0),_=t(0),u=t(0),l=m(()=>k.query.assistant_id),v=m(()=>_.value+u.value);z(()=>{p()});async function p(){a.value=await c.dispatch("assistantsModule/listOne",l.value);const e=await c.dispatch("llmTrackerModule/getTotalTokens",{by:"assistant",assistant_id:l.value});_.value=e.payload.prompt_tokens,u.value=e.payload.completion_tokens,b.value+=1}async function g(){try{d.value=!0,await c.dispatch("assistantsModule/train",l.value)}catch(e){console.error(e)}finally{d.value=!1}}async function w(){try{r.value=!0,await c.dispatch("assistantsModule/generateFromWatson",l.value),p()}catch(e){console.error(e)}finally{r.value=!1}}return(e,as)=>{const h=M("el-button");return W(),V("div",B,[s("div",E,[s("div",F,[s("div",N,[s("div",null,[j,i(o(n(a).name),1)]),s("div",null,[R,i(o(n(a).assistant_id),1)]),f(h,{disabled:!n(a).watson_skill_id||!n(a).watson_api_key,size:"large",type:"primary",color:"#5E00D9",onClick:w,loading:r.value},{default:y(()=>[i("Sincronizar con Watson "+o(!n(a).watson_skill_id||!n(a).watson_api_key?"(Faltan credenciales)":""),1)]),_:1},8,["disabled","loading"]),f(h,{size:"large",type:"primary",color:"#5E00D9",onClick:g,loading:d.value},{default:y(()=>[i("Train (Vectorizar)")]),_:1},8,["loading"]),s("div",q,[s("div",A,[s("div",L,[s("div",O,[P,s("h4",U,o(v.value),1),s("div",G,[s("p",H,"Prompt Tokens: "+o(_.value),1),s("p",I,"Completion Tokens: "+o(u.value),1)])])])]),s("div",J,[s("div",K,[s("div",Q,[X,s("h4",Y,[Z,i("$"+o((v.value/1e3*.002).toFixed(3)),1)])])])])])])])])])}}}),os=$(ss,[["__file","D:/programming/Work/Databot/databot_ia_frontend/src/views/Statistics.vue"]]);export{os as default};
